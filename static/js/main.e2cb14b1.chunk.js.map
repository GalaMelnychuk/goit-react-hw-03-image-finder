{"version":3,"sources":["components/searchbar/Searchbar.module.css","components/imageGallery/ImageGallery.module.css","components/imageGalleryItem/ImageGalleryItem.module.css","components/searchbar/Searchbar.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/loader/Loader.js","components/button/Button.js","components/modal/Modal.js","components/App.js","index.js","components/modal/Modal.module.css"],"names":["module","exports","Searchbar","onHandleSubmitForm","className","styles","SearchForm","onSubmit","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","ImageGalleryItem","webUrl","largeUrl","onOpenImage","src","alt","ImageGalleryItemImage","onClick","ImageGallery","images","map","image","webformatURL","key","id","largeImageURL","Loader","Button","onloadMoreImg","Modal","backdropRef","createRef","handleKeyDown","props","onClose","closeOnClick","e","code","window","addEventListener","this","removeEventListener","url","console","log","Overlay","Component","App","state","isLoading","query","page","isModalOpen","largeImageUrl","handleSubmitForm","setState","target","elements","value","preventDefault","setLargeImage","largeImgUrl","toggleModal","loadMoreImg","a","prevState","getImages","scroll","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","prevCategory","nextCategory","axios","get","finally","res","newImagesArray","data","hits","loading","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e2cb14b1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3nP09\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2J8yT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__18xn0\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__193Xf\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1d01m\"};","import React from \"react\";\nimport styles from \"./Searchbar.module.css\";\n\nconst Searchbar = ({ onHandleSubmitForm }) => {\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={onHandleSubmitForm}>\n        <button type=\"submit\" className={styles.SearchFormButton}>\n          <span className={styles.SearchFormButtonLabel}>Search</span>\n        </button>\n        <input\n          className={styles.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n};\nexport default Searchbar;\n","import React from \"react\";\nimport styles from \"./ImageGalleryItem.module.css\";\n\n\nconst ImageGalleryItem = ({webUrl, largeUrl, onOpenImage}) => {\n  return (\n    <li className=\"ImageGalleryItem\" >\n      <img\n        src={webUrl}\n        alt={largeUrl}\n        className={styles.ImageGalleryItemImage}\n        onClick={()=>onOpenImage(largeUrl)}\n        \n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport styles from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\n\nconst ImageGallery = ({ images, onOpenImage }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(image => (\n        <ImageGalleryItem \n        webUrl={image.webformatURL} \n        key = {image.id} \n        largeUrl={image.largeImageURL} \n        onOpenImage={onOpenImage}/>\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import React from 'react'\n\nconst Loader = () => \n (\n<h1>Loading...</h1>\n    );\n\nexport default Loader;","import React from 'react'\n\nconst Button = ({onloadMoreImg}) => {\n    return (\n        \n        <button className=\"Button\" onClick={onloadMoreImg} type=\"button\">Load more</button>\n       \n    );\n}\n\nexport default Button;","import React, { Component, createRef } from \"react\";\nimport styles from \"./Modal.module.css\";\n\nexport default class Modal extends Component {\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillMount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  // handleKeyPress = e => {\n  //   if (e.code !== 'Escape') return;\n  //   this.props.onOpen() \n  // }\n\n  // handleBackdropClick = e => {\n  //   const { current } = this.backdropRef;\n\n  //   if (current && e.target !== current) {\n  //     return;\n  //   }\n\n  //   this.props.onClose();\n  // };\n\n  // render() {\n  //   return (\n  //     <div className={styles.Overlay} ref = {this.backdropRef}\n  //     onClick={this.handleBackDropClick}>\n  //       <div className={styles.Modal}>\n  //         <img src={this.props.largeImageUrl} alt=\"\" />\n  //       </div>\n  //     </div>\n  //   );\n  // }\n\n  handleKeyDown = ({ key }) => {\n    if (key === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  closeOnClick = e => {\n    if (e.code !== 'Escape') \n    return;\n    this.props.onClose();\n    \n  };\n\n  render() {\n    const { url } = this.props;\n    console.log('this.props', this.props)\n    return (\n      <div className={styles.Overlay}>\n        <div onClick={this.closeOnClick} className={styles.Modal}>\n          <img src={url} alt=\"img\" />\n        </div>\n      </div>\n    );\n  }\n}\n\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nimport Searchbar from \"./searchbar/Searchbar\";\nimport ImageGallery from \"./imageGallery/ImageGallery\";\nimport Loader from \"./loader/Loader\";\nimport Button from \"./button/Button\";\nimport Modal from \"./modal/Modal\";\nconst KEY = \"15738789-70e175d37a04d1dee6d70d765\";\n\n// const mapper = images => {\n//   return images.map(({ objectID: id, url: link, ...props }) => ({\n//     id,\n//     link,\n//     ...props,\n//   }));\n// };\n\nclass App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    query: \"home\",\n    page: 1,\n    isModalOpen: false,\n    largeImageUrl: null\n  };\n\n  componentDidMount() {\n    this.getImages();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query: prevCategory } = prevState;\n    const { query: nextCategory } = this.state;\n\n    if (prevCategory !== nextCategory) {\n      this.getImages(nextCategory);\n    }\n  }\n\n  async getImages() {\n    this.setState({\n      isLoading: true\n    });\n    try {\n      const res = await axios\n        .get(\n          `https://pixabay.com/api/?q=${this.state.query}&page=${this.state.page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n        )\n        .finally(() => {\n          this.setState({ isLoading: false });\n        });\n        const newImagesArray = res.data.hits;\n      this.setState({ images: newImagesArray})\n\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  }\n\n  handleSubmitForm = e => {\n    this.setState({ query: e.target.elements[1].value });\n    // this.getImages(e.target.elements[1].value)\n    e.preventDefault();\n    e.target.elements[1].value = \"\";\n  };\n\n  // opensModal = () => this.setState({isModalOpen: true})\n  // closeModal = () => this.setState({isModalOpen: false})\n\n  setLargeImage = largeImgUrl => {\n    this.setState({ largeImageUrl: largeImgUrl });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(state => ({ isModalOpen: !state.isModalOpen }));\n  };\n\n  loadMoreImg = async () => {\n    const pageStep = 1;\n    await this.setState(prevState => ({ page: prevState.page + pageStep }));\n    await this.getImages();\n  };\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\"\n    });\n  };\n\n  render() {\n    const { images, isLoading,  isModalOpen, largeImageUrl, page } = this.state;\n    const loading = isLoading ? <Loader /> : null;\n\n    return (\n      <>\n        \n        <Searchbar onHandleSubmitForm={this.handleSubmitForm} />\n        {loading}\n        <ImageGallery images={images} onOpenImage={this.setLargeImage}/>\n        <Button onloadMoreImg = {this.loadMoreImg}/>\n        {page !== 1 && this.scroll()}\n        {isModalOpen && <Modal url={largeImageUrl} onClose ={this.toggleModal} />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3zur2\",\"Modal\":\"Modal_Modal__JzWj5\"};"],"sourceRoot":""}