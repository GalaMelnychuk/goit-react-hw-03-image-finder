{"version":3,"sources":["components/imageGallery/ImageGallery.module.css","components/imageGalleryItem/ImageGalleryItem.module.css","components/searchbar/Searchbar.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/loader/Loader.js","components/button/Button.js","components/modal/Modal.js","components/App.js","index.js","components/searchbar/Searchbar.module.css","components/modal/Modal.module.css"],"names":["module","exports","Searchbar","onHandleSubmitForm","className","styles","SearchForm","onSubmit","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","ImageGalleryItem","webUrl","largeUrl","onOpenImage","src","alt","ImageGalleryItemImage","onClick","ImageGallery","window","scrollTo","top","document","documentElement","scrollHeight","behavior","this","props","images","map","image","webformatURL","key","id","largeImageURL","Component","Loader","Button","onloadMoreImg","Modal","backdropRef","createRef","handleKeyDown","onClose","closeOnClick","e","code","addEventListener","removeEventListener","url","console","log","Overlay","App","state","isLoading","query","page","isModalOpen","largeImageUrl","handleSubmitForm","preventDefault","setState","target","elements","value","setLargeImage","largeImgUrl","toggleModal","loadMoreImg","a","prevState","getImages","prevProps","prevCategory","nextCategory","axios","get","finally","res","newImagesArray","data","hits","loading","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.4d22d865.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2J8yT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__18xn0\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__193Xf\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1d01m\"};","import React from \"react\";\nimport styles from \"./Searchbar.module.css\";\n\nconst Searchbar = ({ onHandleSubmitForm }) => {\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={onHandleSubmitForm}>\n        <button type=\"submit\" className={styles.SearchFormButton}>\n          <span className={styles.SearchFormButtonLabel}>Search</span>\n        </button>\n        <input\n          className={styles.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n};\nexport default Searchbar;\n","import React from \"react\";\nimport styles from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({webUrl, largeUrl, onOpenImage}) => {\n  return (\n    <li className=\"ImageGalleryItem\" >\n      <img\n        src={webUrl}\n        alt={largeUrl}\n        className={styles.ImageGalleryItemImage}\n        onClick={()=>onOpenImage(largeUrl)}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React, {Component} from \"react\";\nimport styles from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\n\n\nexport default class ImageGallery extends Component {\n\ncomponentDidUpdate() {\n\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: \"smooth\"\n  }); \n}\n  \n  render () { \n    return (\n    <ul className={styles.ImageGallery}>\n      {this.props.images.map(image => (\n        <ImageGalleryItem \n        webUrl={image.webformatURL} \n        key = {image.id} \n        largeUrl={image.largeImageURL} \n        onOpenImage={this.props.onOpenImage}/>\n      ))}\n    </ul>\n  );}\n};\n\n","import React from 'react'\n\nconst Loader = () => \n (\n<h1>Loading...</h1>\n    );\n\nexport default Loader;","import React from 'react'\n\nconst Button = ({onloadMoreImg}) => {\n    return (\n        \n        <button className=\"Button\" onClick={onloadMoreImg} type=\"button\">Load more</button>\n       \n    );\n}\n\nexport default Button;","import React, { Component, createRef } from \"react\";\nimport styles from \"./Modal.module.css\";\n\nexport default class Modal extends Component {\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillMount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  // handleKeyPress = e => {\n  //   if (e.code !== 'Escape') return;\n  //   this.props.onOpen() \n  // }\n\n  // handleBackdropClick = e => {\n  //   const { current } = this.backdropRef;\n\n  //   if (current && e.target !== current) {\n  //     return;\n  //   }\n\n  //   this.props.onClose();\n  // };\n\n  // render() {\n  //   return (\n  //     <div className={styles.Overlay} ref = {this.backdropRef}\n  //     onClick={this.handleBackDropClick}>\n  //       <div className={styles.Modal}>\n  //         <img src={this.props.largeImageUrl} alt=\"\" />\n  //       </div>\n  //     </div>\n  //   );\n  // }\n\n  handleKeyDown = ({ key }) => {\n    if (key === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  closeOnClick = e => {\n    if (e.code !== 'Escape') \n    return;\n    this.props.onClose();\n    \n  };\n\n  render() {\n    const { url } = this.props;\n    console.log('this.props', this.props)\n    return (\n      <div className={styles.Overlay}>\n        <div onClick={this.closeOnClick} className={styles.Modal}>\n          <img src={url} alt=\"img\" />\n        </div>\n      </div>\n    );\n  }\n}\n\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Searchbar from \"./searchbar/Searchbar\";\nimport ImageGallery from \"./imageGallery/ImageGallery\";\nimport Loader from \"./loader/Loader\";\nimport Button from \"./button/Button\";\nimport Modal from \"./modal/Modal\";\nconst KEY = \"15738789-70e175d37a04d1dee6d70d765\";\n\n// const mapper = images => {\n//   return images.map(({ objectID: id, url: link, ...props }) => ({\n//     id,\n//     link,\n//     ...props,\n//   }));\n// };\n\nclass App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    query: \"color\",\n    page: 1,\n    isModalOpen: false,\n    largeImageUrl: null\n  };\n\n  componentDidMount() {\n    this.getImages();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query: prevCategory } = prevState;\n    const { query: nextCategory } = this.state;\n    window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: \"smooth\"\n    });\n    if (prevCategory !== nextCategory) {\n      this.getImages(nextCategory);\n    }\n  }\n\n  async getImages() {\n    this.setState({\n      isLoading: true\n    });\n    try {\n      const res = await axios\n        .get(\n          `https://pixabay.com/api/?q=${this.state.query}&page=${this.state.page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n        )\n        .finally(() => {\n          this.setState({ isLoading: false });\n        });\n        const newImagesArray = res.data.hits;\n      this.setState({ images: newImagesArray})\n\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  }\n\n  handleSubmitForm = e => {\n    e.preventDefault();\n    this.setState({ query: e.target.elements[1].value });\n    // await this.getImages(e.target.elements[1].value)\n    \n    e.target.elements[1].value = \"\";\n  };\n\n  // opensModal = () => this.setState({isModalOpen: true})\n  // closeModal = () => this.setState({isModalOpen: false})\n\n  setLargeImage = largeImgUrl => {\n    this.setState({ largeImageUrl: largeImgUrl });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(state => ({ isModalOpen: !state.isModalOpen }));\n  };\n\n  loadMoreImg = async () => {\n    await this.setState(prevState => ({ page: prevState.page + 1 }));\n    await this.getImages();\n  };\n\n  render() {\n    const { images, isLoading,  isModalOpen, largeImageUrl} = this.state;\n    const loading = isLoading ? <Loader /> : null;\n\n    return (\n      <>\n        <Searchbar onHandleSubmitForm={this.handleSubmitForm} />\n        {loading}\n        <ImageGallery images={images} onOpenImage={this.setLargeImage}/>\n        <Button onloadMoreImg = {this.loadMoreImg}/>\n        {isModalOpen && <Modal url={largeImageUrl} onClose ={this.toggleModal} />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3nP09\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3zur2\",\"Modal\":\"Modal_Modal__JzWj5\"};"],"sourceRoot":""}