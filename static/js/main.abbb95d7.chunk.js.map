{"version":3,"sources":["components/modal/Modal.module.css","components/imageGallery/ImageGallery.module.css","components/button/Button.module.css","components/searchbar/Searchbar.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/loader/Loader.js","components/button/Button.js","components/modal/Modal.js","components/App.js","index.js","components/searchbar/Searchbar.module.css","components/imageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","onHandleSubmitForm","onHandleChange","className","styles","SearchForm","onSubmit","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","ImageGalleryItem","webUrl","largeUrl","onOpenImage","src","alt","ImageGalleryItemImage","onClick","ImageGallery","this","props","images","map","image","webformatURL","key","id","largeImageURL","Component","Loader","Button","onloadMoreImg","Modal","handleKeyDown","onClose","closeOnClick","e","code","window","addEventListener","removeEventListener","url","console","log","Overlay","App","state","isLoading","query","page","isModalOpen","largeImageUrl","handleSubmitForm","a","preventDefault","setState","getImages","handleChange","target","value","setLargeImage","largeImgUrl","toggleModal","loadMoreImg","prevState","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","axios","get","finally","res","newImagesArray","data","hits","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.abbb95d7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3zur2\",\"Modal\":\"Modal_Modal__JzWj5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2J8yT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__UUCg_\"};","import React from \"react\";\nimport styles from \"./Searchbar.module.css\";\n\nconst Searchbar = ({ onHandleSubmitForm, onHandleChange }) => {\n\n\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={onHandleSubmitForm}>\n        <button type=\"submit\" className={styles.SearchFormButton}>\n          <span className={styles.SearchFormButtonLabel}>Search</span>\n        </button>\n        <input\n        onChange={onHandleChange}\n          className={styles.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n};\nexport default Searchbar;\n","import React from \"react\";\nimport styles from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({webUrl, largeUrl, onOpenImage}) => {\n  return (\n    <li className={styles.ImageGalleryItem} >\n      <img\n        src={webUrl}\n        alt=\"img\"\n        className={styles.ImageGalleryItemImage}\n        onClick={()=>onOpenImage(largeUrl)}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React, {Component} from \"react\";\nimport styles from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\n\n\nexport default class ImageGallery extends Component {\n\n// componentDidUpdate() {\n//   window.scrollTo({\n//     top: document.documentElement.scrollHeight,\n//     behavior: \"smooth\"\n//   }); \n// }\n  \n  render () { \n    return (\n    <ul className={styles.ImageGallery}>\n      {this.props.images.map(image => (\n        <ImageGalleryItem \n        webUrl={image.webformatURL} \n        key = {image.id} \n        largeUrl={image.largeImageURL} \n        onOpenImage={this.props.onOpenImage}/>\n      ))}\n    </ul>\n  );}\n};\n\n","import React from 'react'\n\nconst Loader = () => \n (\n<h1>Loading...</h1>\n    );\n\nexport default Loader;","import React from 'react';\nimport styles from '../button/Button.module.css';\n\nconst Button = ({onloadMoreImg}) => {\n    return (\n        \n        <button className={styles.Button} onClick={onloadMoreImg} type=\"button\">Load more</button>\n\n    );\n}\n\nexport default Button;","import React, { Component, createRef } from \"react\";\nimport styles from \"./Modal.module.css\";\n\nexport default class Modal extends Component {\n  // backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillMount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  // handleKeyPress = e => {\n  //   if (e.code !== 'Escape') return;\n  //   this.props.onOpen() \n  // }\n\n  // handleBackdropClick = e => {\n  //   const { current } = this.backdropRef;\n\n  //   if (current && e.target !== current) {\n  //     return;\n  //   }\n\n  //   this.props.onClose();\n  // };\n\n  // render() {\n  //   return (\n  //     <div className={styles.Overlay} ref = {this.backdropRef}\n  //     onClick={this.handleBackDropClick}>\n  //       <div className={styles.Modal}>\n  //         <img src={this.props.largeImageUrl} alt=\"\" />\n  //       </div>\n  //     </div>\n  //   );\n  // }\n\n  handleKeyDown = ({ key }) => {\n    if (key === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  closeOnClick = e => {\n    if (e.code !== 'Escape') \n    return;\n    this.props.onClose();\n    \n  };\n\n  render() {\n    const { url } = this.props;\n    console.log('url', url)\n    return (\n      <div className={styles.Overlay}>\n        <div onClick={this.closeOnClick} className={styles.Modal}>\n          <img src={url} alt=\"img\" />\n        </div>\n      </div>\n    );\n  }\n}\n\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Searchbar from \"./searchbar/Searchbar\";\nimport ImageGallery from \"./imageGallery/ImageGallery\";\nimport Loader from \"./loader/Loader\";\nimport Button from \"./button/Button\";\nimport Modal from \"./modal/Modal\";\nconst KEY = \"15738789-70e175d37a04d1dee6d70d765\";\n\n// const mapper = images => {\n//   return images.map(({ objectID: id, url: link, ...props }) => ({\n//     id,\n//     link,\n//     ...props,\n//   }));\n// };\n\nclass App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    query: \"\",\n    page: 1,\n    isModalOpen: false,\n    largeImageUrl: ''\n  };\n\n\n  componentDidUpdate(prevProps, prevState) {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\"\n      });\n  }\n\n  async getImages() {\n    this.setState({\n      isLoading: true\n    });\n    try {\n      const res = await axios\n        .get(\n          `https://pixabay.com/api/?q=${this.state.query}&page=${this.state.page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n        )\n        .finally(() => {\n          this.setState({ isLoading: false });\n        });\n        \n        const newImagesArray = res.data.hits;\n      this.setState(prevState => ({ images: [...prevState.images, ...newImagesArray]}))\n\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  }\n\n  handleSubmitForm = async e => {\n    e.preventDefault();\n   await this.setState({ images: [] });\n   await this.getImages();\n  };\n\n  handleChange = (e) => {\n    this.setState({ query: e.target.value }) \n  }\n\n  setLargeImage = largeImgUrl => {\n  this.setState({ largeImageUrl: largeImgUrl });\n  this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(state => ({ isModalOpen: !state.isModalOpen }));\n  };\n\n  loadMoreImg = async () => {\n    await this.setState(prevState => ({ page: prevState.page + 1}));\n    await this.getImages();\n  };\n\n  render() {\n    const { images, isLoading,  isModalOpen, largeImageUrl} = this.state;\n    return (\n      <>\n        <Searchbar onHandleSubmitForm={this.handleSubmitForm} onHandleChange={this.handleChange} />\n       { isLoading ? <Loader /> :\n        <ImageGallery images={images} onOpenImage={this.setLargeImage}/>}\n        {images.length > 0 && <Button onloadMoreImg = {this.loadMoreImg}/>}\n        {isModalOpen && <Modal url={largeImageUrl} onClose ={this.toggleModal} />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3nP09\",\"SearchForm\":\"Searchbar_SearchForm__l0-6e\",\"SearchFormButton\":\"Searchbar_SearchFormButton__18FfJ\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2QS5Z\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3FzPn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__18xn0\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__193Xf\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1d01m\"};"],"sourceRoot":""}